{% assign archiveversions = site.archive | sort: 'date' | reverse  %}
<div class="w3-row-padding w3-light-grey w3-padding-32 w3-container">
    <div class="w3-content">
		<div class="w3-center">
			<h1>The Archive</h1>
			<p>I have decided to make every previous version of Costa available for download, to preserve its history and to allow anyone interested in seeing how Costa has evolved to do so.</p>
			<p>In the archive you will find a complete list of releases, with changelog for each version, as well as a screenshot.</p>
			<p>It's a long list, with releases spanning nearly two decades. To download the most recent version of Costa, <a href="{{ site.baseURL }}/index.html#downloads">head on over to the Download section</a>.</p>
		</div>
		<div class="w3-bar-block w3-border">
			{% for archiveversion in archiveversions %}
				{% if archiveversion.title == page.title %}
					<a href="{{ site.baseURL }}/archive.html" class="w3-bar-item w3-border-bottom w3-mobile w3-center w3-black w3-hover-black">Version {{ archiveversion.title }}</a>
					<div class="w3-content" style="padding: 16px;" id="expandeditem">
						<div class="w3-center">
							<h2>Version {{ page.title }}</h2>
							{% if page.unavailable %}
								<div class="posttime">
									Unreleased<br>
									&nbsp;
								</div>
							{% else %}
								<div class="posttime">Released on the {% assign day = page.date | date: "%-d"  %}
									{% case day %}
									{% when '1' or '21' or '31' %}{{ day }}st
									{% when '2' or '22' %}{{ day }}nd
									{% when '3' or '23' %}{{ day }}rd
									{% else %}{{ day }}th
									{% endcase %}
									{{ page.date | date: "of %B, %Y" }}<br>
									&nbsp;
								</div>
								<a href="{{ site.baseURL }}/assets/img/archive/{{ page.title | remove: '.' }}.png"><img class="w3-image" src="{{ site.baseURL }}/assets/img/archive/{{ page.title | remove: '.' }}.png" alt="Screenshot of Costa {{ page.title }}"></a>
							{% endif %}
						</div>
						{{ content | markdownify }}
						{% unless page.unavailable %}
							<p>&nbsp;</p>
							<div class="w3-center">
								<a class="w3-button  w3-white w3-hover-black" href="{{ site.baseURL }}/downloads/costa{{ page.title | remove: '.' }}.zip">
									<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-floppy2-fill" viewBox="0 0 16 16">
										<path d="M12 2h-2v3h2z"/>
										<path d="M1.5 0A1.5 1.5 0 0 0 0 1.5v13A1.5 1.5 0 0 0 1.5 16h13a1.5 1.5 0 0 0 1.5-1.5V2.914a1.5 1.5 0 0 0-.44-1.06L14.147.439A1.5 1.5 0 0 0 13.086 0zM4 6a1 1 0 0 1-1-1V1h10v4a1 1 0 0 1-1 1zM3 9h10a1 1 0 0 1 1 1v5H2v-5a1 1 0 0 1 1-1"/>
									</svg>
									Download Costa {{ page.title }}
								</a>
							</div>
						{% endunless %}
						<p>&nbsp;</p>
					</div>
				{% else %}
					<a href="{{ site.baseURL }}/archive/{{ archiveversion.title | remove: '.' }}.html#expandeditem" class="w3-bar-item w3-border-bottom w3-mobile w3-center w3-white w3-hover-black">Version {{ archiveversion.title }}</a>
				{% endif %}
			{% endfor %}
		</div>
	</div>
</div>
